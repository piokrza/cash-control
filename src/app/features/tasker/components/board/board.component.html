@if (state.board) {
  <div class="flex justify-content-between align-items-center">
    <p-button size="large" [icon]="PrimeIcons.ARROW_LEFT" [text]="true" [rounded]="true" (onClick)="navigateBack()" />
    <p-button size="large" severity="danger" [icon]="PrimeIcons.TRASH" [text]="true" [rounded]="true" (onClick)="deleteBoard()" />
  </div>

  <div cdkDropListGroup class="mt-6 flex align-items-end">
    @for (taskList of state.board.tasksLists; track taskList.id) {
      <div class="container">
        <div class="flex justify-content-between align-items-center">
          <h2>{{ taskList.name }}</h2>
          <p-button
            size="large"
            severity="danger"
            [text]="true"
            [rounded]="true"
            [icon]="PrimeIcons.TRASH"
            (onClick)="deleteTaskList(taskList.id)" />
        </div>

        <div cdkDropList [cdkDropListData]="taskList.tasks" class="list" (cdkDropListDropped)="onDrop($event)">
          @for (task of taskList.tasks; track task.id) {
            <org-container cdkDrag>
              {{ task.name }}
            </org-container>
          } @empty {
            <org-add-item-btn (itemNameSubmit)="addTask($event, taskList.id)">
              <div class="flex justify-content-between align-items-center w-full">
                <span>{{ 'tasker.emptyList' | translate }}</span>
                <p-button size="large" [icon]="PrimeIcons.PLUS" [text]="true" [rounded]="true" />
              </div>
            </org-add-item-btn>
          }
        </div>
      </div>
    }

    <div class="container">
      <org-add-item-btn (itemNameSubmit)="addTaskList($event)">
        <div class="flex justify-content-between align-items-center w-full">
          <span>{{ 'tasker.dodajListe' | translate }}</span>
          <p-button size="large" [icon]="PrimeIcons.PLUS" [text]="true" [rounded]="true" />
        </div>
      </org-add-item-btn>
    </div>
  </div>
}
