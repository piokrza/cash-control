<p-tabView [activeIndex]="(activeTabIndex$ | async)!">
  <p-tabPanel [header]="'cashFlow.incomes' | translate">
    @if (incomesDataset$ | async; as incomes) {
      <org-details-list
        [isIncomeMode]="true"
        [isLoading]="!!(isLoading$ | async)"
        [cashFlowList]="incomes.data"
        (addCashFlow)="addCashFlow($event)"
        (cashFlowToRemoveId)="removeIncome($event)"
        (cashFlowToUpdate)="updateIncome($event)"
        class="wrapper" />
    }
  </p-tabPanel>

  <p-tabPanel #expensesPanel [header]="'cashFlow.expenses' | translate">
    @if (expensesDataset$ | async; as expenses) {
      @defer {
        <org-details-list
          [isIncomeMode]="false"
          [isLoading]="!!(isLoading$ | async)"
          [cashFlowList]="expenses.data"
          (addCashFlow)="addCashFlow($event)"
          (cashFlowToRemoveId)="removeExpense($event)"
          (cashFlowToUpdate)="updateExpense($event)"
          class="wrapper" />
      }
    }
  </p-tabPanel>
</p-tabView>
