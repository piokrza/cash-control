<h1 class="heading text-center">{{ 'auth.register' | translate }}</h1>

<form [formGroup]="form" (ngSubmit)="onSubmit()" class="my-7">
  @if (errorMessage$ | async; as errorMessage) {
    <small class="error block my-3">{{ errorMessage }}</small>
  }
  <span class="p-float-label my-4">
    <input [formControl]="form.controls.email" pInputText id="email" class="w-full" />
    <label htmlFor="email">Email</label>
  </span>

  <span class="p-float-label my-4">
    <p-password [formControl]="form.controls.password" [feedback]="false" [toggleMask]="true" />
    <label htmlFor="password">{{ 'auth.password' | translate }}</label>
  </span>

  <span class="p-float-label my-4">
    <p-password [formControl]="form.controls.passwordConfirmation" [feedback]="false" [toggleMask]="true" />
    <label htmlFor="passwordConfirmation">{{ 'auth.passwordConfirmation' | translate }}</label>
  </span>

  @if (form.errors?.['passwordMismatch'] && form.get('passwordConfirmation')?.touched) {
    <small class="text-red-400 block mb-3">{{ 'auth.passwordMissmatch' | translate }}</small>
  }

  <button [disabled]="form.invalid" class="w-full" type="submit" pButton label="Register"></button>
</form>

<small class="block text-center mt-4">
  {{ 'auth.haveAccount' | translate }}
  <a [routerLink]="['../' + AuthPaths.LOGIN]" class="underline cursor-pointer">
    {{ 'auth.clickToLogin' | translate }}
  </a>
</small>
